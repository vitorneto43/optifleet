<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OptiFleet ‚Äî Rotas com IA, Rastreamento e Telemetria</title>
  <meta name="description" content="Planejamento de rotas com IA + rastreamento em tempo real e telemetria inteligente. Reduza custos, aumente a produtividade e encante seus clientes." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="/static/css/site.css">
  <meta property="og:title" content="OptiFleet ‚Äî Rotas com IA, Rastreamento e Telemetria">
  <meta property="og:description" content="Planejamento de rotas com IA + rastreamento em tempo real e telemetria inteligente.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/static/img/og-cover.jpg">
  <link rel="icon" href="/static/img/favicon.png">

  <!-- üëá CSS m√≠nimo para comportamento do menu mobile -->
  <style>
    header.nav { position: sticky; top: 0; z-index: 3000; }
    .nav__wrap { display:flex; align-items:center; justify-content:space-between; gap:16px; }
    .nav__links { display:flex; gap:16px; }
    .nav__burger { display:none; background:none; border:0; padding:8px; cursor:pointer; }
    .nav__burger span { display:block; width:26px; height:3px; background:#fff; margin:4px 0; border-radius:2px; }

    @media (max-width: 900px) {
      .nav__links {
        display: none;
        position: absolute;
        top: 64px;               /* altura do header */
        left: 0; right: 0;
        background: #0b1220;
        padding: 12px 20px;
        border-top: 1px solid rgba(255,255,255,.12);
      }
      .nav--open .nav__links { display: block; }
      .nav__links a { display:block; padding:10px 0; }
      .nav__burger { display:inline-flex; z-index:3001; }
      body.no-scroll { overflow: hidden; }
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav__wrap">
      <a href="/site" class="brand">
        <img src="/static/img/logo (2).png" alt="OptiFleet" class="brand__logo">
        <span class="brand__name">OptiFleet</span>
      </a>
      <nav class="nav__links">
        <a href="#beneficios">Benef√≠cios</a>
        <a href="#como-funciona">Como funciona</a>
        <a href="#precos">Pre√ßos</a>
        <a href="#faq">FAQ</a>
        <a href="/login" class="btn btn--ghost">Entrar</a>
        <a href="/register" class="btn">Come√ßar</a>
      </nav>
      <button class="nav__burger" id="burger" aria-label="Abrir menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>
  {% with msgs = get_flashed_messages(with_categories=true) %}
  {% if msgs %}
    <div class="flash-wrap" style="max-width:1100px;margin:16px auto;padding:0 20px">
      {% for cat, msg in msgs %}
        <div class="flash flash-{{cat}}" style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.15);padding:10px 12px;border-radius:10px;margin:8px 0">
          {{ msg }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


  <!-- HERO -->
  <section class="hero">
    <div class="hero__bg"></div>
    <div class="hero__content">
      <h1>Rotas com IA + Rastreamento ao vivo<br class="br-md"> e Telemetria inteligente</h1>
      <p class="hero__subtitle">
        Planeje, acompanhe e melhore sua opera√ß√£o de ponta a ponta. <br>
        Menos km, menos custo, mais entregas no hor√°rio ‚Äî e clientes felizes.
      </p>
     <div class="hero__cta">
        {% if current_user.is_authenticated %}
          <!-- Usu√°rio j√° logado ‚Üí manda pro dashboard -->
          <a href="{{ url_for('dashboard') }}" class="btn btn--xl">Ir para o Dashboard</a>
        {% else %}
          <!-- Visitante ‚Üí empurra pro login j√° com next=/trial/start -->
          <a href="{{ url_for('auth.login_page', next='/trial/start') }}" class="btn btn--xl">Teste agora</a>
        {% endif %}

        <!-- Sempre dispon√≠veis -->
        <a href="/demo" class="btn btn--xl btn--ghost">Ver demo</a>
        <a href="/contact" class="btn btn--xl btn--ghost">Falar com vendas</a>
      </div>


      <div class="hero__badges">
        <span>‚ö° Otimiza√ß√£o multi-ve√≠culo</span>
        <span>üõ∞Ô∏è Rastreamento em tempo real</span>
        <span>üõ†Ô∏è Telemetria & manuten√ß√£o preditiva</span>
      </div>
      <div class="hero__shot">
        <img src="/static/img/dashboard-shot.png" alt="Dashboard OptiFleet">
      </div>
    </div>
  </section>

  <!-- SOCIAL PROOF -->
  <section class="logos">
    <div class="logos__wrap">
      <span class="logos__title">Confiado por opera√ß√µes modernas</span>
      <div class="logos__row">
        <img src="/static/img/logo-gray-1.svg" alt="">
        <img src="/static/img/logo-gray-2.svg" alt="">
        <img src="/static/img/logo-gray-3.svg" alt="">
        <img src="/static/img/logo-gray-4.svg" alt="">
        <img src="/static/img/logo-gray-5.svg" alt="">
      </div>
    </div>
  </section>

  <!-- BENEF√çCIOS -->
  <section id="beneficios" class="features">
    <div class="section__head">
      <h2>O que nos diferencia</h2>
      <p>Combina√ß√£o √∫nica de IA de rotas, rastreamento e telemetria ‚Äî leve, r√°pida e sem dor de cabe√ßa.</p>
    </div>
    <div class="grid">
      <div class="feature"><div class="icon">üß†</div><h3>IA de rotas (VRPTW)</h3><p>Respeita janelas de entrega, capacidade, tempo de servi√ßo e m√∫ltiplos ve√≠culos ‚Äî com resultados prontos pra rua.</p></div>
      <div class="feature"><div class="icon">üõ∞Ô∏è</div><h3>Rastreamento em tempo real</h3><p>Visualize a frota ao vivo com atualiza√ß√£o cont√≠nua (SSE) e hist√≥rico de posi√ß√µes.</p></div>
      <div class="feature"><div class="icon">üîß</div><h3>Telemetria inteligente</h3><p>Capta velocidade, combust√≠vel, hod√¥metro, alertas OBD e sugere manuten√ß√£o preditiva.</p></div>
      <div class="feature"><div class="icon">üí∏</div><h3>Custo otimizado</h3><p>Arquitetura enxuta (DuckDB local ou edge) e sem lock-in ‚Äî voc√™ cresce pagando menos.</p></div>
      <div class="feature"><div class="icon">üß©</div><h3>Integra√ß√µes simples</h3><p>APIs REST para ingest√£o (rastreador/servidor pr√≥prio). Sem mensalidade surpresa.</p></div>
      <div class="feature"><div class="icon">üîê</div><h3>Seguran√ßa</h3><p>Autentica√ß√£o de token por dispositivo, isolamento por cliente e trilha de auditoria.</p></div>
    </div>
  </section>

  <!-- COMO FUNCIONA -->
  <section id="como-funciona" class="how">
    <div class="section__head">
      <h2>Como funciona</h2>
      <p>Em minutos do cadastro ao despacho.</p>
    </div>
    <div class="steps">
      <div class="step"><span class="badge">1</span><h4>Cadastre dep√≥sito, frota e clientes</h4><p>Importe planilha ou copie & cole. Endere√ßo ou lat/lon: voc√™ decide.</p></div>
      <div class="step"><span class="badge">2</span><h4>Otimize com IA</h4><p>Defina objetivo (custo/tempo/dist√¢ncia), janelas e restri√ß√µes. Gere rotas com um clique.</p></div>
      <div class="step"><span class="badge">3</span><h4>Rastreie e ajuste</h4><p>Acompanhe ve√≠culos ao vivo, reotimize se precisar e registre ocorr√™ncias.</p></div>
      <div class="step"><span class="badge">4</span><h4>Telemetria & manuten√ß√£o</h4><p>Receba alertas de risco e evite paradas n√£o planejadas.</p></div>
    </div>

    <div class="how__split">
      <div class="how__shot"><img src="/static/img/feature-routes.jpeg" alt="Rotas com IA"></div>
      <div class="how__text">
        <h3>Rotas que respeitam a realidade da rua</h3>
        <p>Modelagem VRPTW com tempos de servi√ßo, capacidades e janelas de entrega. Exporte a sequ√™ncia e comece a rodar.</p>
        <ul class="check">
          <li>Multi-ve√≠culo (escala para grandes frotas)</li>
          <li>Janelas de tempo e prioridades</li>
          <li>Estimativa de ped√°gios e custos</li>
        </ul>
        <a href="/app" class="link">Ver demo do roteirizador ‚Üí</a>
      </div>
    </div>
  </section>

  <!-- PRE√áOS -->
  <section id="precos" class="pricing">
    <div class="section__head">
      <h2>Planos simples e escal√°veis</h2>
      <p>Comece pequeno, cres√ßa sem sustos.</p>
    </div>

    <!--<div class="pricing__toggle">
      <span>Mensal</span>
      <label class="switch">
        <input type="checkbox" id="toggleAnnual">
        <span class="slider"></span>
      </label>
      <span>Anual <b class="save">-15%</b></span>
    </div>-->
    <div class="plans">
      <!-- START -->
      <div class="plan">
        <h3>Start</h3>
        <div class="price">
          <span class="p p-m">R$ 399</span>
          <small>/m√™s</small>
        </div>
        <p class="muted">Para opera√ß√µes iniciando com otimiza√ß√£o e rastreamento.</p>
        <ul>
          <li>At√© 5 ve√≠culos</li>
          <li>Roteiriza√ß√£o com IA</li>
          <li>Mapa ao vivo (SSE)</li>
          <li>Suporte por e-mail</li>
        </ul>
        <div class="qty">
          <label for="v-start" class="muted">Ve√≠culos</label>
          <input id="v-start" type="number" min="1" max="5" value="5">
        </div>
        <a id="btn-start"
           class="btn btn--full"
           href="/billing/go?plan=start&billing=monthly&vehicles=5"
           data-plan="start">
          Assinar Start
        </a>
      </div>

      <!-- PRO -->
      <div class="plan plan--focus">
        <div class="pill">Mais popular</div>
        <h3>Pro</h3>
        <div class="price">
          <span class="p p-m">R$ 1499</span>
          <small>/m√™s</small>
        </div>
        <p class="muted">Frotas m√©dias com telemetria e manuten√ß√£o preditiva.</p>
        <ul>
          <li>At√© 50 ve√≠culos</li>
          <li>Roteiriza√ß√£o avan√ßada (VRPTW)</li>
          <li>Telemetria completa + OBD</li>
          <li>Alertas e relat√≥rios</li>
        </ul>
        <div class="qty">
          <label for="v-pro" class="muted">Ve√≠culos</label>
          <input id="v-pro" type="number" min="1" max="50" value="20">
        </div>
        <a id="btn-pro"
           class="btn btn--full"
           href="/billing/go?plan=pro&billing=monthly&vehicles=20"
           data-plan="pro">
          Assinar Pro
        </a>
      </div>

      <!-- ENTERPRISE -->
      <div class="plan">
        <h3>Enterprise</h3>
        <div class="price">
          <span class="p p-m">R$ 2200</span>
          <small>/m√™s</small>
        </div>
        <p class="muted">Grandes opera√ß√µes: integra√ß√µes, SLAs e customiza√ß√µes.</p>
        <ul>
          <li>51+ ve√≠culos</li>
          <li>Integra√ß√µes dedicadas</li>
          <li>Dashboards executivos</li>
          <li>Suporte priorit√°rio</li>
        </ul>
        <div class="qty">
          <label for="v-enterprise" class="muted">Ve√≠culos</label>
          <!-- AQUI: sem max -->
          <input id="v-enterprise" type="number" min="51" value="70">
        </div>
        <a id="btn-enterprise"
           class="btn btn--full"
           href="/billing/go?plan=enterprise&billing=monthly&vehicles=70"
           data-plan="enterprise">
          Assinar Enterprise
        </a>
      </div>
    </div>
  </section>

  <!-- DEPOIMENTOS -->
  <section class="testi">
    <div class="section__head"><h2>Resultados que viram vantagem competitiva</h2></div>
    <div class="testi__grid">
      <blockquote><p>‚ÄúReduzimos 18% dos quil√¥metros rodados em 30 dias. A previsibilidade de hor√°rios melhorou o NPS dos clientes.‚Äù</p><footer>‚Äî Juliana M., Opera√ß√µes</footer></blockquote>
      <blockquote><p>‚ÄúIntegramos nosso servidor de rastreamento em uma tarde. As rotas com IA encaixaram perfeito no nosso fluxo.‚Äù</p><footer>‚Äî Paulo R., TI</footer></blockquote>
      <blockquote><p>‚ÄúA telemetria ajudou a antecipar uma falha cr√≠tica. Evitamos parada de caminh√£o e multa por atraso.‚Äù</p><footer>‚Äî Carla S., Frota</footer></blockquote>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="faq">
    <div class="section__head"><h2>Perguntas frequentes</h2></div>
    <div class="faq__grid">
      <details open><summary>Preciso contratar mapa de terceiros?</summary><p>N√£o. Trabalhamos bem com tiles OSM/Leaflet e provedores livres. Integra√ß√µes com Google/OSRM s√£o opcionais.</p></details>
      <details><summary>Como funciona o rastreamento?</summary><p>Seu dispositivo envia POS para nosso endpoint seguro com token. O dashboard atualiza em tempo real via SSE.</p></details>
      <details><summary>E a telemetria/OBD?</summary><p>Ingest√£o REST simples (velocidade, combust√≠vel, od√¥metro, alertas). Nosso m√≥dulo estima risco e agenda manuten√ß√£o.</p></details>
      <details><summary>√â poss√≠vel rodar on-premise?</summary><p>Sim. DuckDB/edge reduz custo e lat√™ncia. Tamb√©m suportamos nuvem e arquiteturas h√≠bridas.</p></details>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer__wrap">
      <div class="col">
        <div class="brand brand--footer">
          <img src="/static/img/logo (2).png" alt="OptiFleet" class="brand__logo">
          <span class="brand__name">OptiFleet</span>
        </div>
        <p class="muted">Rotas com IA, rastreamento ao vivo e telemetria inteligente para opera√ß√µes enxutas e eficientes.</p>
      </div>
      <div class="col">
        <h5>Produto</h5>
        <a href="#beneficios">Benef√≠cios</a>
        <a href="#como-funciona">Como funciona</a>
        <a href="#precos">Pre√ßos</a>
      </div>
      <div class="col">
        <h5>Empresa</h5>
        <a href="/contact">Contato</a>
        <a href="/terms">Termos</a>
        <a href="/privacy">Privacidade</a>
      </div>
    </div>
    <div class="footer__copy">¬© <span id="y"></span> OptiFleet. Todos os direitos reservados.</div>
  </footer>

  <!-- üëá JS do menu mobile -->
  <script>
    (function () {
      const header = document.querySelector('header.nav');
      const burger = document.getElementById('burger');
      const links  = header?.querySelector('.nav__links');

      if (!burger || !header || !links) return;

      function closeMenu() {
        header.classList.remove('nav--open');
        burger.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('no-scroll');
      }

      function toggleMenu() {
        header.classList.toggle('nav--open');
        const open = header.classList.contains('nav--open');
        burger.setAttribute('aria-expanded', open ? 'true' : 'false');
        document.body.classList.toggle('no-scroll', open);
      }

      burger.addEventListener('click', (e) => { e.stopPropagation(); toggleMenu(); });
      links.addEventListener('click', (e) => { if (e.target.matches('a')) closeMenu(); });
      document.addEventListener('click', (e) => { if (!header.contains(e.target)) closeMenu(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });
    })();
  </script>

  <!-- (j√° existia) JS dos pre√ßos/links -->
  <script>
  // pega os inputs
  const vStart       = document.getElementById('v-start');
  const vPro         = document.getElementById('v-pro');
  const vEnterprise  = document.getElementById('v-enterprise');

  // pega os bot√µes
  const btnStart      = document.getElementById('btn-start');
  const btnPro        = document.getElementById('btn-pro');
  const btnEnterprise = document.getElementById('btn-enterprise');

  function buildHref(plan, vehicles) {
    const v = parseInt(vehicles, 10);

    if (plan === 'start') {
      const vv = isNaN(v) ? 1 : Math.min(Math.max(v, 1), 5);
      return `/billing/go?plan=start&billing=monthly&vehicles=${vv}`;
    }
    if (plan === 'pro') {
      const vv = isNaN(v) ? 1 : Math.min(Math.max(v, 1), 50);
      return `/billing/go?plan=pro&billing=monthly&vehicles=${vv}`;
    }
    // ENTERPRISE: deixa passar o que o cara digitou (m√≠nimo 51)
    const vv = isNaN(v) ? 51 : Math.max(v, 51);
    return `/billing/go?plan=enterprise&billing=monthly&vehicles=${vv}`;
  }

  function updateStart() {
    if (!vStart || !btnStart) return;
    btnStart.href = buildHref('start', vStart.value);
  }
  function updatePro() {
    if (!vPro || !btnPro) return;
    btnPro.href = buildHref('pro', vPro.value);
  }
  function updateEnterprise() {
    if (!vEnterprise || !btnEnterprise) return;
    btnEnterprise.href = buildHref('enterprise', vEnterprise.value);
  }

  vStart?.addEventListener('input', updateStart);
  vPro?.addEventListener('input', updatePro);
  vEnterprise?.addEventListener('input', updateEnterprise);

  // seta os 3 uma vez na carga
  updateStart();
  updatePro();
  updateEnterprise();
</script>
</body>
</html>

