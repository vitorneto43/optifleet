<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OptiFleet ‚Äî Rotas com IA, Rastreamento e Telemetria</title>
  <meta name="description" content="Planejamento de rotas com IA + rastreamento em tempo real e telemetria inteligente. Reduza custos, aumente a produtividade e encante seus clientes." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="/static/css/site.css">
  <meta property="og:title" content="OptiFleet ‚Äî Rotas com IA, Rastreamento e Telemetria">
  <meta property="og:description" content="Planejamento de rotas com IA + rastreamento em tempo real e telemetria inteligente.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/static/img/og-cover.jpg">
  <link rel="icon" href="/static/img/favicon.png">
</head>
<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav__wrap">
      <a href="/site" class="brand">
        <img src="/static/img/logo (2).png" alt="OptiFleet" class="brand__logo">
        <span class="brand__name">OptiFleet</span>
      </a>
      <nav class="nav__links">
        <a href="#beneficios">Benef√≠cios</a>
        <a href="#como-funciona">Como funciona</a>
        <a href="#precos">Pre√ßos</a>
        <a href="#faq">FAQ</a>
        <a href="/login" class="btn btn--ghost">Entrar</a>
        <a href="/register" class="btn">Come√ßar</a>
      </nav>
      <button class="nav__burger" id="burger" aria-label="Abrir menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>
  {% with msgs = get_flashed_messages(with_categories=true) %}
  {% if msgs %}
    <div class="flash-wrap" style="max-width:1100px;margin:16px auto;padding:0 20px">
      {% for cat, msg in msgs %}
        <div class="flash flash-{{cat}}" style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.15);padding:10px 12px;border-radius:10px;margin:8px 0">
          {{ msg }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


  <!-- HERO -->
  <section class="hero">
    <div class="hero__bg"></div>
    <div class="hero__content">
      <h1>Rotas com IA + Rastreamento ao vivo<br class="br-md"> e Telemetria inteligente</h1>
      <p class="hero__subtitle">
        Planeje, acompanhe e melhore sua opera√ß√£o de ponta a ponta. <br>
        Menos km, menos custo, mais entregas no hor√°rio ‚Äî e clientes felizes.
      </p>
     <div class="hero__cta">
        {% if current_user.is_authenticated %}
          <!-- Usu√°rio j√° logado ‚Üí manda pro dashboard -->
          <a href="{{ url_for('dashboard') }}" class="btn btn--xl">Ir para o Dashboard</a>
        {% else %}
          <!-- Visitante ‚Üí empurra pro login j√° com next=/trial/start -->
          <a href="{{ url_for('auth.login_page', next='/trial/start') }}" class="btn btn--xl">Teste agora</a>
        {% endif %}

        <!-- Sempre dispon√≠veis -->
        <a href="/demo" class="btn btn--xl btn--ghost">Ver demo</a>
        <a href="/contact" class="btn btn--xl btn--ghost">Falar com vendas</a>
      </div>


      <div class="hero__badges">
        <span>‚ö° Otimiza√ß√£o multi-ve√≠culo</span>
        <span>üõ∞Ô∏è Rastreamento em tempo real</span>
        <span>üõ†Ô∏è Telemetria & manuten√ß√£o preditiva</span>
      </div>
      <div class="hero__shot">
        <img src="/static/img/dashboard-shot.png" alt="Dashboard OptiFleet">
      </div>
    </div>
  </section>

  <!-- SOCIAL PROOF -->
  <section class="logos">
    <div class="logos__wrap">
      <span class="logos__title">Confiado por opera√ß√µes modernas</span>
      <div class="logos__row">
        <img src="/static/img/logo-gray-1.svg" alt="">
        <img src="/static/img/logo-gray-2.svg" alt="">
        <img src="/static/img/logo-gray-3.svg" alt="">
        <img src="/static/img/logo-gray-4.svg" alt="">
        <img src="/static/img/logo-gray-5.svg" alt="">
      </div>
    </div>
  </section>

  <!-- BENEF√çCIOS -->
  <section id="beneficios" class="features">
    <div class="section__head">
      <h2>O que nos diferencia</h2>
      <p>Combina√ß√£o √∫nica de IA de rotas, rastreamento e telemetria ‚Äî leve, r√°pida e sem dor de cabe√ßa.</p>
    </div>
    <div class="grid">
      <div class="feature"><div class="icon">üß†</div><h3>IA de rotas (VRPTW)</h3><p>Respeita janelas de entrega, capacidade, tempo de servi√ßo e m√∫ltiplos ve√≠culos ‚Äî com resultados prontos pra rua.</p></div>
      <div class="feature"><div class="icon">üõ∞Ô∏è</div><h3>Rastreamento em tempo real</h3><p>Visualize a frota ao vivo com atualiza√ß√£o cont√≠nua (SSE) e hist√≥rico de posi√ß√µes.</p></div>
      <div class="feature"><div class="icon">üîß</div><h3>Telemetria inteligente</h3><p>Capta velocidade, combust√≠vel, hod√¥metro, alertas OBD e sugere manuten√ß√£o preditiva.</p></div>
      <div class="feature"><div class="icon">üí∏</div><h3>Custo otimizado</h3><p>Arquitetura enxuta (DuckDB local ou edge) e sem lock-in ‚Äî voc√™ cresce pagando menos.</p></div>
      <div class="feature"><div class="icon">üß©</div><h3>Integra√ß√µes simples</h3><p>APIs REST para ingest√£o (rastreador/servidor pr√≥prio). Sem mensalidade surpresa.</p></div>
      <div class="feature"><div class="icon">üîê</div><h3>Seguran√ßa</h3><p>Autentica√ß√£o de token por dispositivo, isolamento por cliente e trilha de auditoria.</p></div>
    </div>
  </section>

  <!-- COMO FUNCIONA -->
  <section id="como-funciona" class="how">
    <div class="section__head">
      <h2>Como funciona</h2>
      <p>Em minutos do cadastro ao despacho.</p>
    </div>
    <div class="steps">
      <div class="step"><span class="badge">1</span><h4>Cadastre dep√≥sito, frota e clientes</h4><p>Importe planilha ou copie & cole. Endere√ßo ou lat/lon: voc√™ decide.</p></div>
      <div class="step"><span class="badge">2</span><h4>Otimize com IA</h4><p>Defina objetivo (custo/tempo/dist√¢ncia), janelas e restri√ß√µes. Gere rotas com um clique.</p></div>
      <div class="step"><span class="badge">3</span><h4>Rastreie e ajuste</h4><p>Acompanhe ve√≠culos ao vivo, reotimize se precisar e registre ocorr√™ncias.</p></div>
      <div class="step"><span class="badge">4</span><h4>Telemetria & manuten√ß√£o</h4><p>Receba alertas de risco e evite paradas n√£o planejadas.</p></div>
    </div>

    <div class="how__split">
      <div class="how__shot"><img src="/static/img/feature-routes.jpeg" alt="Rotas com IA"></div>
      <div class="how__text">
        <h3>Rotas que respeitam a realidade da rua</h3>
        <p>Modelagem VRPTW com tempos de servi√ßo, capacidades e janelas de entrega. Exporte a sequ√™ncia e comece a rodar.</p>
        <ul class="check">
          <li>Multi-ve√≠culo (escala para grandes frotas)</li>
          <li>Janelas de tempo e prioridades</li>
          <li>Estimativa de ped√°gios e custos</li>
        </ul>
        <a href="/app" class="link">Ver demo do roteirizador ‚Üí</a>
      </div>
    </div>
  </section>

  <!-- PRE√áOS -->
  <section id="precos" class="pricing">
    <div class="section__head">
      <h2>Planos simples e escal√°veis</h2>
      <p>Comece pequeno, cres√ßa sem sustos.</p>
    </div>

    <div class="pricing__toggle">
      <span>Mensal</span>
      <label class="switch">
        <input type="checkbox" id="toggleAnnual">
        <span class="slider"></span>
      </label>
      <span>Anual <b class="save">-15%</b></span>
    </div>

    <div class="plans">
      <!-- START (route) -->
      <div class="plan">
        <h3>Start</h3>
        <div class="price">
          <span class="p p-m">R$ 399</span>
          <span class="p p-a">R$ 339,15</span>
          <small>/m√™s</small>
        </div>
        <p class="muted">Para opera√ß√µes iniciando com otimiza√ß√£o e rastreamento.</p>
        <ul>
          <li>At√© 5 ve√≠culos</li>
          <li>Roteiriza√ß√£o com IA</li>
          <li>Mapa ao vivo (SSE)</li>
          <li>Suporte por e-mail</li>
        </ul>
        <div class="qty">
          <label for="vRoute" class="muted">Ve√≠culos</label>
          <input id="vRoute" type="number" min="1" max="5" value="5">
        </div>
        <a id="btnStart" class="btn btn--full" href="/billing/go?plan=route&billing=monthly&vehicles=5" data-plan="route">Assinar Start</a>
      </div>

      <!-- PRO (full) -->
      <div class="plan plan--focus">
        <div class="pill">Mais popular</div>
        <h3>Pro</h3>
        <div class="price">
          <span class="p p-m">R$ 1499</span>
          <span class="p p-a">R$ 1274,15</span>
          <small>/m√™s</small>
        </div>
        <p class="muted">Frotas m√©dias com telemetria e manuten√ß√£o preditiva.</p>
        <ul>
          <li>At√© 50 ve√≠culos</li>
          <li>Roteiriza√ß√£o avan√ßada (VRPTW)</li>
          <li>Telemetria completa + OBD</li>
          <li>Alertas e relat√≥rios</li>
        </ul>
        <div class="qty">
          <label for="vFull" class="muted">Ve√≠culos</label>
          <input id="vFull" type="number" min="6" max="50" value="20">
        </div>
        <a id="btnPro" class="btn btn--full" href="/billing/go?plan=full&billing=monthly&vehicles=20" data-plan="full">Assinar Pro</a>
      </div>

      <!-- ENTERPRISE -->
      <div class="plan">
        <h3>Enterprise</h3>
        <div class="price"><span class="p">Sob consulta</span></div>
        <p class="muted">Grandes opera√ß√µes: integra√ß√µes, SLAs e customiza√ß√µes.</p>
        <ul>
          <li>Ve√≠culos ilimitados</li>
          <li>Integra√ß√µes dedicadas</li>
          <li>Dashboards executivos</li>
          <li>Suporte priorit√°rio</li>
        </ul>
        <a class="btn btn--full btn--ghost" href="/contact">Falar com vendas</a>
      </div>
    </div>
  </section>

  <!-- DEPOIMENTOS -->
  <section class="testi">
    <div class="section__head"><h2>Resultados que viram vantagem competitiva</h2></div>
    <div class="testi__grid">
      <blockquote><p>‚ÄúReduzimos 18% dos quil√¥metros rodados em 30 dias. A previsibilidade de hor√°rios melhorou o NPS dos clientes.‚Äù</p><footer>‚Äî Juliana M., Opera√ß√µes</footer></blockquote>
      <blockquote><p>‚ÄúIntegramos nosso servidor de rastreamento em uma tarde. As rotas com IA encaixaram perfeito no nosso fluxo.‚Äù</p><footer>‚Äî Paulo R., TI</footer></blockquote>
      <blockquote><p>‚ÄúA telemetria ajudou a antecipar uma falha cr√≠tica. Evitamos parada de caminh√£o e multa por atraso.‚Äù</p><footer>‚Äî Carla S., Frota</footer></blockquote>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="faq">
    <div class="section__head"><h2>Perguntas frequentes</h2></div>
    <div class="faq__grid">
      <details open><summary>Preciso contratar mapa de terceiros?</summary><p>N√£o. Trabalhamos bem com tiles OSM/Leaflet e provedores livres. Integra√ß√µes com Google/OSRM s√£o opcionais.</p></details>
      <details><summary>Como funciona o rastreamento?</summary><p>Seu dispositivo envia POS para nosso endpoint seguro com token. O dashboard atualiza em tempo real via SSE.</p></details>
      <details><summary>E a telemetria/OBD?</summary><p>Ingest√£o REST simples (velocidade, combust√≠vel, od√¥metro, alertas). Nosso m√≥dulo estima risco e agenda manuten√ß√£o.</p></details>
      <details><summary>√â poss√≠vel rodar on-premise?</summary><p>Sim. DuckDB/edge reduz custo e lat√™ncia. Tamb√©m suportamos nuvem e arquiteturas h√≠bridas.</p></details>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer__wrap">
      <div class="col">
        <div class="brand brand--footer">
          <img src="/static/img/logo (2).png" alt="OptiFleet" class="brand__logo">
          <span class="brand__name">OptiFleet</span>
        </div>
        <p class="muted">Rotas com IA, rastreamento ao vivo e telemetria inteligente para opera√ß√µes enxutas e eficientes.</p>
      </div>
      <div class="col">
        <h5>Produto</h5>
        <a href="#beneficios">Benef√≠cios</a>
        <a href="#como-funciona">Como funciona</a>
        <a href="#precos">Pre√ßos</a>
      </div>
      <div class="col">
        <h5>Empresa</h5>
        <a href="/contact">Contato</a>
        <a href="/terms">Termos</a>
        <a href="/privacy">Privacidade</a>
      </div>
    </div>
    <div class="footer__copy">¬© <span id="y"></span> OptiFleet. Todos os direitos reservados.</div>
  </footer>

  <script>
    // mobile nav
    const burger = document.getElementById('burger');
    const links = document.querySelector('.nav__links');
    burger?.addEventListener('click', ()=> links.classList.toggle('is-open'));

    // pricing toggle + montar links de assinatura (SEM duplica√ß√£o)
    const toggle = document.getElementById('toggleAnnual');
    const pricesM = document.querySelectorAll('.p-m');
    const pricesA = document.querySelectorAll('.p-a');
    const btnStart = document.getElementById('btnStart');
    const btnPro   = document.getElementById('btnPro');
    const vRoute   = document.getElementById('vRoute');
    const vFull    = document.getElementById('vFull');

    function currentBilling(){ return toggle?.checked ? 'annual' : 'monthly'; }
    function setPriceMode(annual){
      pricesM.forEach(el=> el.style.display = annual ? 'none':'inline');
      pricesA.forEach(el=> el.style.display = annual ? 'inline':'none');
      updateLinks();
    }
    function makeHref(plan, vehicles){
      const billing = currentBilling();
      const v = Math.max(1, parseInt(vehicles||'1',10));
      return `/billing/go?plan=${encodeURIComponent(plan)}&billing=${encodeURIComponent(billing)}&vehicles=${v}`;
    }
    function updateLinks(){
      if (btnStart) btnStart.href = makeHref('route', vRoute?.value || 5);
      if (btnPro)   btnPro.href   = makeHref('full',  vFull?.value  || 20);
    }

    setPriceMode(false);                       // inicia como Mensal
    toggle?.addEventListener('change', e=> setPriceMode(e.target.checked));
    vRoute?.addEventListener('input', updateLinks);
    vFull?.addEventListener('input', updateLinks);

    // year no rodap√©
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
